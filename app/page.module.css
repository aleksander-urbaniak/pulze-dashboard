@config "../tailwind.config.ts";
@reference "tailwindcss";

.filterSelect {
  @apply w-full rounded-xl border border-border bg-base/60 px-3 py-2 text-sm;
}

.searchWrap {
  @apply relative w-full max-w-full;
}

.searchIcon {
  @apply pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-muted;
}

.searchInput {
  @apply w-full rounded-full border border-border bg-base/60 py-2 pl-9 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-accent/30;
}

.latestHeader {
  @apply mt-8 grid items-center gap-4 rounded-2xl border border-border bg-surface/90 p-3;
}

.latestTitle {
  @apply grid gap-2;
}

.latestMiddle {
  @apply flex w-full flex-wrap items-center gap-3;
  min-width: 0;
}

.latestFilters {
  @apply flex w-full flex-wrap items-center gap-3;
}

.latestActions {
  @apply flex w-full flex-wrap items-center gap-3;
}

.viewToggle {
  @apply flex w-full items-center justify-between rounded-full border border-border bg-base/60 p-1 text-xs uppercase tracking-[0.2em];
}

.viewToggleButton {
  @apply rounded-full px-3 py-1;
}

.refreshButton {
  @apply w-full rounded-full border border-border px-4 py-2 text-xs uppercase tracking-[0.2em];
}

.latestMeta {
  @apply mt-2 text-sm text-muted;
}

.cardGrid {
  @apply grid gap-4;
}

.card {
  @apply relative rounded-2xl border border-border bg-base/40 p-4;
  transition:
    transform 260ms ease-in-out,
    box-shadow 260ms ease-in-out,
    border-color 260ms ease-in-out,
    background-color 260ms ease-in-out,
    opacity 260ms ease-in-out,
    filter 260ms ease-in-out;
}

.cardSeverityLabel {
  @apply pl-7;
}

.cardSeverityCritical {
  @apply border-l-4 border-l-red-500;
}

.cardSeverityWarning {
  @apply border-l-4 border-l-yellow-400;
}

.cardSeverityInfo {
  @apply border-l-4 border-l-slate-400;
}

.cardExpanded {
  @apply shadow-card;
  transform: translateY(-2px) scale(1.01);
  z-index: 20;
}

.cardMuted {
  opacity: 0.65;
  filter: blur(1px);
}

.cardDetail {
  max-height: 0;
  opacity: 0;
  transform: translateY(-6px);
  margin-top: 0;
  overflow: hidden;
  pointer-events: none;
  transition:
    max-height 320ms ease-in-out,
    opacity 320ms ease-in-out,
    transform 320ms ease-in-out,
    margin-top 320ms ease-in-out;
}

.cardDetailOpen {
  max-height: 520px;
  opacity: 1;
  transform: translateY(0);
  margin-top: 1rem;
  pointer-events: auto;
}

.cardNotePreview {
  @apply mt-3 rounded-xl border border-border bg-base/60 px-3 py-2 text-xs text-muted;
  display: -webkit-box;
  overflow: hidden;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.focusOverlay {
  position: fixed;
  inset: 0;
  background-color: rgb(var(--base) / 0.3);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  opacity: 0;
  pointer-events: none;
  transition: opacity 260ms ease-in-out;
  z-index: 10;
}

.focusOverlayVisible {
  opacity: 1;
  pointer-events: auto;
}

.tableRowActive {
  @apply bg-base/60;
}

.tableDetailRow {
  @apply bg-base/40;
}

.tableDetailCell {
  @apply px-3 pb-3;
}

.tableDetailCellCollapsed {
  padding: 0;
}

.tableDetail {
  max-height: 0;
  opacity: 0;
  transform: translateY(-4px);
  overflow: hidden;
  pointer-events: none;
  transition:
    max-height 320ms ease-in-out,
    opacity 320ms ease-in-out,
    transform 320ms ease-in-out;
}

.tableDetailOpen {
  max-height: 420px;
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

@media (max-width: 640px) {
  .cardDetailOpen {
    max-height: 720px;
  }

  .tableDetailOpen {
    max-height: 640px;
  }
}

@media (min-width: 640px) {
  .filterSelect {
    @apply w-auto;
  }

  .searchWrap {
    @apply max-w-lg;
  }

  .latestHeader {
    @apply p-4;
  }

  .viewToggle {
    @apply w-auto justify-start;
  }

  .refreshButton {
    @apply w-auto;
  }

  .cardGrid {
    @apply gap-6;
  }

  .card {
    @apply p-5;
  }

  .tableDetailCell {
    @apply px-4 pb-4;
  }
}

@media (min-width: 768px) {
  .cardGrid {
    @apply grid-cols-2;
  }
}

@media (min-width: 1024px) {
  .searchWrap {
    @apply w-[480px] max-w-none;
  }

  .latestHeader {
    @apply grid-cols-[minmax(220px,1fr)_minmax(360px,1.4fr)_auto] items-center;
  }

  .latestMiddle {
    @apply flex-nowrap justify-center;
  }

  .latestFilters {
    @apply flex-nowrap;
  }

  .latestActions {
    @apply flex-nowrap justify-end;
  }
}

@media (min-width: 1280px) {
  .searchWrap {
    @apply w-[560px];
  }

  .cardGrid {
    @apply grid-cols-3;
  }
}
